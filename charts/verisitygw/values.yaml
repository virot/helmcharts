replicaCount: 1

image:
  repository: versity/versitygw
  tag: latest
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 7070

ingress:
  enabled: true
  className: ""
  annotations: {}
  hosts:
    - host: versitygw.local
      paths:
        - path: /
          pathType: Prefix
  tls:
    - hosts:
        - versitygw.local
      secretName: versitygw-tls

nfs:
  server: 10.0.0.1
  path: /exported/path
  mountPath: /data

bucketsPath: /data  # Path where buckets will be stored (can be different from mountPath)

env:
  ROOT_ACCESS_KEY: ""  # If empty and no existingSecret, a default value will be used
  ROOT_SECRET_KEY: ""  # If empty and no existingSecret, a random secret will be generated on first install (stable across upgrades)
  VGW_BACKEND: posix
  VGW_REGION: us-east-1
  VGW_IAM_DIR: ""  # If defined, run internal iam service within this directory

# Secret configuration for ROOT_ACCESS_KEY and ROOT_SECRET_KEY
# Option 1: Use an existing secret by setting existingSecret
# Option 2: Let the chart create a secret automatically (default behavior)
# Note: Once created, the secret will not be overwritten on upgrades
secret:
  # Name of an existing secret to use (if set, chart won't create a secret)
  enabled: false
  name: "s3-creds"
  # Keys in the secret for access and secret keys
  accessKeyName: ROOT_ACCESS_KEY
  secretKeyName: ROOT_SECRET_KEY

# Additional environment variables to add to the container
# Each entry must have either 'value' or 'valueFrom' set
# Example:
# extraEnv:
#   - name: CUSTOM_VAR
#     value: "custom_value"
#   - name: SECRET_VAR
#     valueFrom:
#       secretKeyRef:
#         name: my-secret
#         key: my-key
extraEnv: []

healthProbes:
  liveness:
    path: /health
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 2
    failureThreshold: 3

resources: {}

nodeSelector: {}

tolerations: []

affinity: {}
